<div class="comments-filter">
  <div class="filter-row">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      [placeholder]="'PROFILE.SEARCH_COMMENTS' | translate"
      class="search-input"
      (ngModelChange)="onSearchTermChange()"
    >

    <div class="author-select-container">
      <!-- Dropdown with Toggle and Menu -->
      <div class="dropdown-wrapper">
        <!-- Dropdown toggle button -->
        <div class="author-dropdown-toggle" (click)="toggleAuthorDropdown()">
          <span>{{ selectedAuthor ? getAuthorNameById(selectedAuthor) : ('PROFILE.ALL_AUTHORS' | translate) }}</span>
          <span class="dropdown-arrow">{{ isAuthorDropdownOpen ? '▲' : '▼' }}</span>
        </div>

        <!-- Dropdown menu -->
        <div *ngIf="isAuthorDropdownOpen" class="author-dropdown-menu">
          <!-- Author list -->
          <div class="author-list">
            <div
              class="author-item"
              [class.selected]="selectedAuthor === ''"
              (click)="selectAuthor('')"
            >
              <span class="author-checkbox">
                <span *ngIf="selectedAuthor === ''" class="check-mark">✓</span>
              </span>
              <span class="author-name">{{ 'PROFILE.ALL_AUTHORS' | translate }}</span>
            </div>

            <div
              *ngFor="let author of authors"
              class="author-item"
              [class.selected]="selectedAuthor === author.id"
              (click)="selectAuthor(author.id)"
            >
              <span class="author-checkbox">
                <span *ngIf="selectedAuthor === author.id" class="check-mark">✓</span>
              </span>
              <span class="author-name">{{ author.name }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="filter-row date-filters">
    <div class="date-filter">
      <label>{{ 'PROFILE.FROM' | translate }}</label>
      <div class="date-input-container">
        <input type="date" [(ngModel)]="dateFrom" class="date-input" (ngModelChange)="onDateFromChange()">
      </div>
    </div>

    <div class="date-filter">
      <label>{{ 'PROFILE.TO' | translate }}</label>
      <div class="date-input-container">
        <input type="date" [(ngModel)]="dateTo" class="date-input" (ngModelChange)="onDateToChange()">
      </div>
    </div>
  </div>
</div>

