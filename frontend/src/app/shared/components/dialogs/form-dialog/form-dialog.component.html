<div class="dialog-wrapper">
  <div class="dialog form-dialog email-client-style">
    <div class="dialog-header">
      <h3>{{ dialog.title }}</h3>
      <button class="close-button" (click)="onCancel()">Ã—</button>
    </div>
    <div class="dialog-body">
      <p *ngIf="dialog.message" class="dialog-message">{{ dialog.message }}</p>
      
      <form (ngSubmit)="onSubmit()" #form="ngForm" class="email-form">
        <div class="email-fields">
          <div *ngFor="let field of getSubjectField()" class="form-group email-header-field">
            <label [for]="field.id">{{ field.label }}</label>
            <input 
              [type]="field.type"
              [id]="field.id"
              [name]="field.id"
              [(ngModel)]="formData[field.id]"
              [required]="field.required"
              [placeholder]="field.placeholder || ''"
              class="form-control"
            >
          </div>
          
          <div *ngFor="let field of getRecipientsField()" class="form-group email-header-field">
            <label [for]="field.id">{{ field.label }}</label>
            <input 
              [type]="field.type"
              [id]="field.id"
              [name]="field.id"
              [(ngModel)]="formData[field.id]"
              [required]="field.required"
              [placeholder]="field.placeholder || ''"
              class="form-control"
              [disabled]="field.disabled"
            >
          </div>
          
          <div *ngFor="let field of getMessageField()" class="form-group email-body-field">
            <label [for]="field.id">{{ field.label }}</label>
            <textarea 
              [id]="field.id"
              [name]="field.id"
              [(ngModel)]="formData[field.id]"
              [required]="field.required"
              [placeholder]="field.placeholder || ''"
              [rows]="field.rows || 10"
              class="form-control email-body"
            ></textarea>
          </div>
        </div>
      </form>
    </div>
    <div class="dialog-footer">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">
        {{ dialog.cancelText }}
      </button>
      <button type="button" class="btn btn-primary" (click)="onSubmit()" [disabled]="!isFormValid()">
        {{ dialog.submitText }}
      </button>
    </div>
  </div>
</div> 